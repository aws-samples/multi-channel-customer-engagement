{
  "modules": [
    {
      "id": "c7e01ac2-3787-45b8-9194-e6c8bd97aa7a",
      "type": "SetVoice",
      "branches": [
        {
          "condition": "Success",
          "transition": "5b5bab1a-7b3a-43f9-9159-b61868403972"
        }
      ],
      "parameters": [{ "name": "GlobalVoice", "value": "Mia" }],
      "metadata": { "position": { "x": 155, "y": 195 } }
    },
    {
      "id": "5b5bab1a-7b3a-43f9-9159-b61868403972",
      "type": "SetRecordingBehavior",
      "branches": [
        {
          "condition": "Success",
          "transition": "4cb86557-b541-46a3-a452-cee0b241a3cf"
        }
      ],
      "parameters": [
        { "name": "RecordingBehaviorOption", "value": "Enable" },
        { "name": "RecordingParticipantOption", "value": "Both" }
      ],
      "metadata": { "position": { "x": 250, "y": 4 } }
    },
    {
      "id": "4cb86557-b541-46a3-a452-cee0b241a3cf",
      "type": "CheckAttribute",
      "branches": [
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "true",
          "transition": "98a70ec0-069b-44a4-ada6-2a1810b1c675"
        },
        {
          "condition": "NoMatch",
          "transition": "a456069e-9995-4119-9427-bd63308fa17f"
        }
      ],
      "parameters": [
        { "name": "Attribute", "value": "greetingPlayed" },
        { "name": "Namespace", "value": "User Defined" }
      ],
      "metadata": {
        "position": { "x": 473, "y": 209 },
        "conditionMetadata": [
          {
            "id": "72cbf442-dc00-4868-91a4-998b4fc4d4e8",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "true"
          }
        ]
      }
    },
    {
      "id": "a456069e-9995-4119-9427-bd63308fa17f",
      "type": "SetAttributes",
      "branches": [
        {
          "condition": "Success",
          "transition": "6063b277-5cd1-41fc-a069-ae76887f2a23"
        },
        {
          "condition": "Error",
          "transition": "6063b277-5cd1-41fc-a069-ae76887f2a23"
        }
      ],
      "parameters": [
        {
          "name": "Attribute",
          "value": "true",
          "key": "greetingPlayed",
          "namespace": null
        }
      ],
      "metadata": { "position": { "x": 292, "y": 511 } }
    },
    {
      "id": "6063b277-5cd1-41fc-a069-ae76887f2a23",
      "type": "PlayPrompt",
      "branches": [
        {
          "condition": "Success",
          "transition": "98a70ec0-069b-44a4-ada6-2a1810b1c675"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "Hola. Buenos dias, gracias por llamar a Banca Nube. Este es un ejemplo de lo que pueden hacer con los servicios de Amazon.",
          "namespace": null
        },
        { "name": "TextToSpeechType", "value": "text" }
      ],
      "metadata": { "position": { "x": 563, "y": 461 }, "useDynamic": false }
    },
    {
      "id": "83b76e76-52cc-4732-81ff-1519b0c0f132",
      "type": "Disconnect",
      "branches": [],
      "parameters": [],
      "metadata": { "position": { "x": 2042, "y": 416 } }
    },
    {
      "id": "7b6b04f4-9608-4cf3-b905-b4059a88de6d",
      "type": "Transfer",
      "branches": [
        {
          "condition": "AtCapacity",
          "transition": "7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"
        },
        {
          "condition": "Error",
          "transition": "7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"
        }
      ],
      "parameters": [],
      "metadata": {
        "position": { "x": 1064, "y": 632 },
        "useDynamic": false,
        "queue": null
      },
      "target": "Queue"
    },
    {
      "id": "a2817859-c521-4912-b634-81c48a64b894",
      "type": "SetQueue",
      "branches": [
        {
          "condition": "Success",
          "transition": "7b6b04f4-9608-4cf3-b905-b4059a88de6d"
        },
        {
          "condition": "Error",
          "transition": "7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"
        }
      ],
      "parameters": [
        {
          "name": "Queue",
          "value": "arn:aws:connect:us-east-1:684859963665:instance/4cc70bdb-cb91-4b87-8bce-a7a06769fa21/queue/b14669cc-8359-4d6a-adc6-6d186b235b95",
          "namespace": null,
          "resourceName": "BasicQueue"
        }
      ],
      "metadata": {
        "position": { "x": 801, "y": 832 },
        "useDynamic": false,
        "queue": {
          "id": "arn:aws:connect:us-east-1:684859963665:instance/4cc70bdb-cb91-4b87-8bce-a7a06769fa21/queue/b14669cc-8359-4d6a-adc6-6d186b235b95",
          "text": "BasicQueue"
        }
      }
    },
    {
      "id": "ae54d6c1-507d-4d6e-886e-e212cbbcf976",
      "type": "Transfer",
      "branches": [
        {
          "condition": "Error",
          "transition": "7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"
        }
      ],
      "parameters": [
        {
          "name": "ContactFlowId",
          "value": "arn:aws:connect:us-east-1:684859963665:instance/4cc70bdb-cb91-4b87-8bce-a7a06769fa21/contact-flow/e060ed6a-1277-4732-bfa3-a1517577f506",
          "resourceName": "Sample queue customer"
        }
      ],
      "metadata": {
        "position": { "x": 1290, "y": 867 },
        "useDynamic": false,
        "ContactFlow": {
          "id": "arn:aws:connect:us-east-1:684859963665:instance/4cc70bdb-cb91-4b87-8bce-a7a06769fa21/contact-flow/e060ed6a-1277-4732-bfa3-a1517577f506",
          "text": "Sample queue customer"
        }
      },
      "target": "Flow"
    },
    {
      "id": "d9bc3bbc-98e1-4b4d-a756-3c8fc09465da",
      "type": "GetUserInput",
      "branches": [
        {
          "condition": "NoMatch",
          "transition": "1b54b460-df2e-4e36-a390-80137ac9a089"
        },
        {
          "condition": "Error",
          "transition": "7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "Lo sentimos, esta opción se encuentra en desarrollo.",
          "namespace": null
        },
        { "name": "TextToSpeechType", "value": "text" },
        { "name": "BotName", "value": "bancanube" },
        { "name": "BotAlias", "value": "$LATEST" },
        { "name": "BotRegion", "value": "us-east-1" }
      ],
      "metadata": {
        "position": { "x": 1833, "y": 19 },
        "conditionMetadata": [],
        "useDynamic": false,
        "dynamicMetadata": {}
      },
      "target": "Lex"
    },
    {
      "id": "7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b",
      "type": "PlayPrompt",
      "branches": [
        {
          "condition": "Success",
          "transition": "83b76e76-52cc-4732-81ff-1519b0c0f132"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "Lo sentimos ha ocurrido un error con su llamada. Adios.",
          "namespace": null
        },
        { "name": "TextToSpeechType", "value": "text" }
      ],
      "metadata": { "position": { "x": 1900, "y": 806 }, "useDynamic": false }
    },
    {
      "id": "1b54b460-df2e-4e36-a390-80137ac9a089",
      "type": "GetUserInput",
      "branches": [
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "1",
          "transition": "3bc47d87-bc93-48a6-970a-c3067c3afe7f"
        },
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "2",
          "transition": "83b76e76-52cc-4732-81ff-1519b0c0f132"
        },
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "3",
          "transition": "a2817859-c521-4912-b634-81c48a64b894"
        },
        {
          "condition": "Timeout",
          "transition": "83b76e76-52cc-4732-81ff-1519b0c0f132"
        },
        {
          "condition": "NoMatch",
          "transition": "7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"
        },
        {
          "condition": "Error",
          "transition": "7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "¿Tienes más preguntas? Presiona 1, para SI, 2 para colgar, 3 para ser atendido por uno de nuestros agentes.",
          "namespace": null
        },
        { "name": "TextToSpeechType", "value": "text" },
        { "name": "Timeout", "value": "5" },
        { "name": "MaxDigits", "value": "1" }
      ],
      "metadata": {
        "position": { "x": 1566, "y": 349 },
        "conditionMetadata": [
          { "id": "9f12d611-4180-4dc5-939b-b2db81eb77bd", "value": "1" },
          { "id": "7198945d-569f-4c96-8e86-94af3f266555", "value": "2" },
          { "id": "1429eefb-7254-43dc-95bb-cd18e91236b4", "value": "3" }
        ],
        "useDynamic": false
      },
      "target": "Digits"
    },
    {
      "id": "98a70ec0-069b-44a4-ada6-2a1810b1c675",
      "type": "GetUserInput",
      "branches": [
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "1",
          "transition": "a2817859-c521-4912-b634-81c48a64b894"
        },
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "2",
          "transition": "3bc47d87-bc93-48a6-970a-c3067c3afe7f"
        },
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "3",
          "transition": "d9bc3bbc-98e1-4b4d-a756-3c8fc09465da"
        },
        {
          "condition": "Timeout",
          "transition": "ae54d6c1-507d-4d6e-886e-e212cbbcf976"
        },
        {
          "condition": "NoMatch",
          "transition": "7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"
        },
        {
          "condition": "Error",
          "transition": "7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "Presiona 1, para ser atendido por un agente. Presiona 2, para responder preguntas frecuentes, y 3, para validar un requerimiento en documentación.",
          "namespace": null
        },
        { "name": "TextToSpeechType", "value": "text" },
        { "name": "Timeout", "value": "8" },
        { "name": "MaxDigits", "value": "1" }
      ],
      "metadata": {
        "position": { "x": 799, "y": 251 },
        "conditionMetadata": [
          { "id": "63a75159-452f-4452-bc4f-332c5c8f290d", "value": "1" },
          { "id": "2e482b38-8553-490e-9a18-c6e6e200655f", "value": "2" },
          { "id": "1590582f-c1f0-4e61-bc71-74249bc56a1a", "value": "3" }
        ],
        "useDynamic": false
      },
      "target": "Digits"
    },
    {
      "id": "3bc47d87-bc93-48a6-970a-c3067c3afe7f",
      "type": "GetUserInput",
      "branches": [
        {
          "condition": "NoMatch",
          "transition": "1b54b460-df2e-4e36-a390-80137ac9a089"
        },
        {
          "condition": "Error",
          "transition": "7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "¿Qué preguntas tienes?",
          "namespace": null
        },
        { "name": "TextToSpeechType", "value": "text" },
        { "name": "BotName", "value": "CallCenterCallRouting_es" },
        { "name": "BotAlias", "value": "$LATEST" },
        { "name": "BotRegion", "value": "us-east-1" }
      ],
      "metadata": {
        "position": { "x": 1057, "y": -1 },
        "conditionMetadata": [],
        "useDynamic": false,
        "dynamicMetadata": {}
      },
      "target": "Lex"
    }
  ],
  "version": "1",
  "type": "contactFlow",
  "start": "c7e01ac2-3787-45b8-9194-e6c8bd97aa7a",
  "metadata": {
    "entryPointPosition": { "x": 19, "y": 193 },
    "snapToGrid": false,
    "name": "Sample inbound flow (first call experience)",
    "description": "First call experience",
    "type": "contactFlow",
    "status": "published",
    "hash": "39757d0ef9ccb309fd1ed0867b8e7a84de7f009343e0231932d5ab5d880252fc"
  }
}
